Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù€ Lexer Loop ÙØ¹Ù„Ù‹Ø§ØŸ

Ø§Ù„Ù€ lexer loop Ù‡Ùˆ Ø§Ù„Ù…Ù†Ø³Ù‘Ù‚
Ù‡Ùˆ Ù„Ø§ ÙŠÙÙ‡Ù…:

Ù…Ø¹Ù†Ù‰ Ø§Ù„Ø£ÙˆØ§Ù…Ø±

redirections

pipes

Ù‡Ùˆ ÙÙ‚Ø·:

ÙŠÙ…Ø´ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù€ input Ø­Ø±ÙÙ‹Ø§ Ø­Ø±ÙÙ‹Ø§
ÙˆÙŠØ­ÙˆÙ‘Ù„Ù‡ Ø¥Ù„Ù‰ Ø³Ù„Ø³Ù„Ø© Tokens

ğŸ¯ Ù‡Ø¯Ù Ø§Ù„Ù€ lexer loop

ÙŠØ£Ø®Ø°:

char *input


ÙˆÙŠØ±Ø¬Ø¹:

t_token *head


Ø­ÙŠØ« head = linked list Ù…Ù† Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨.

ğŸ” Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© (High Level)

ØªØ®ÙŠÙ„ Ù‡Ø°Ø§ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ:

echo "hello" | cat >> out.txt


Ø§Ù„Ù€ lexer loop ÙŠØ¹Ù…Ù„ Ù‡ÙƒØ°Ø§:

ÙŠØ¨Ø¯Ø£ Ù…Ù† Ø£ÙˆÙ„ input

ÙŠØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª

ÙŠØ³Ø£Ù„:

Ù‡Ù„ Ù‡Ø°Ø§ operatorØŸ

Ø£Ù… wordØŸ

ÙŠÙ†Ø´Ø¦ token

ÙŠØ¶ÙŠÙÙ‡ Ø¥Ù„Ù‰ list

ÙŠÙƒØ±Ø± Ø­ØªÙ‰ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø³Ø·Ø±

ğŸ§© Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªÙŠ Ù„Ø¯ÙŠÙƒ (Ø¬Ø§Ù‡Ø²Ø©)

Ø£Ù†Øª Ø¨Ù†ÙŠØª ÙƒÙ„ Ø§Ù„Ù‚Ø·Ø¹ ğŸ‘‡

âœ… Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©

skip_spaces(&input)

operator_detection(&input)

word_detection(&input)

âœ… Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

create_token

append_token

ğŸ“Œ Ø§Ù„Ù€ lexer loop Ù„Ø§ ÙŠÙ‚Ø±Ø£ char Ø¨Ù†ÙØ³Ù‡
Ø¨Ù„ ÙŠØ³ØªØ®Ø¯Ù… Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙÙ‚Ø·.

ğŸ§  ØªØ±ØªÙŠØ¨ Ø§Ù„Ù‚Ø±Ø§Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ù€ loop (Ù…Ù‡Ù… Ø¬Ø¯Ù‹Ø§)

Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ø°Ù‡Ø¨ÙŠ:

ÙÙŠ ÙƒÙ„ Ø¯ÙˆØ±Ø©:

1ï¸âƒ£ ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª
2ï¸âƒ£ Ø¥Ù† ÙƒØ§Ù† input Ø§Ù†ØªÙ‡Ù‰ â†’ Ø®Ø±ÙˆØ¬
3ï¸âƒ£ Ø¬Ø±Ù‘Ø¨ operator detection
4ï¸âƒ£ Ø¥Ù† Ù†Ø¬Ø­ â†’ Ø£Ø¶Ù token â†’ ØªØ§Ø¨Ø¹
5ï¸âƒ£ ÙˆØ¥Ù„Ø§ â†’ Ø¬Ø±Ù‘Ø¨ word_detection
6ï¸âƒ£ Ø¥Ù† ÙØ´Ù„ â†’ lexer error
7ï¸âƒ£ Ø¥Ù† Ù†Ø¬Ø­ â†’ Ø£Ø¶Ù token â†’ ØªØ§Ø¨Ø¹

ğŸ“Œ operator Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ù‚Ø¨Ù„ word
Ù„Ø£Ù†:

>> file


Ù„Ùˆ Ù‚Ø±Ø£Øª word Ø£ÙˆÙ„Ù‹Ø§ â†’ ÙƒØ§Ø±Ø«Ø© ğŸ˜„

ğŸš¨ Ù…ØªÙ‰ ÙŠØ¹ØªØ¨Ø± lexer ÙØ´Ù„ØŸ

quote ØºÙŠØ± Ù…ØºÙ„Ù‚

operator ØºÙŠØ± ØµØ§Ù„Ø­

word_detection ØªØ±Ø¬Ø¹ NULL

ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø§Øª:

ØªÙˆÙ‚Ù ÙÙˆØ±Ù‹Ø§

Ù†Ø¸Ù‘Ù tokens

ØªØ±Ø¬Ø¹ NULL Ø£Ùˆ error flag

ğŸ§  Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª lexer loop (ÙˆØ§Ø¶Ø­Ø© Ø¬Ø¯Ù‹Ø§)
âœ”ï¸ ÙŠÙØ¹Ù„:

ØªÙ‚Ø³ÙŠÙ… input

Ø¥Ù†Ø´Ø§Ø¡ tokens

Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„ØªØ±ØªÙŠØ¨

âŒ Ù„Ø§ ÙŠÙØ¹Ù„:

Ù„Ø§ expansion

Ù„Ø§ ØªÙ†ÙÙŠØ°

Ù„Ø§ parsing

Ù„Ø§ redirection logic

ğŸ—ºï¸ Ø´ÙƒÙ„ Ø§Ù„Ø¯Ø§Ù„Ø© (Ø°Ù‡Ù†ÙŠÙ‹Ø§ ÙÙ‚Ø·)
lexer(input):
    head = NULL

    while (input not end):
        skip_spaces
        if end â†’ break

        if operator detected:
            append token
        else if word detected:
            append token
        else:
            error

    return head